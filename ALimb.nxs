{"type":"group","name":"alimb","enabled":true,"items":[{"type":"function","name":"onInstall","enabled":true,"code":"// Place any code here you'd like to autorun when the package is installed\nalimb = {};\n\nif (!nexusclient.ui().layout().tab_location('LimbTracker')) {\n  nexusclient.ui().layout().register_custom_tab('LimbTracker');\n}"},{"type":"function","name":"onUninstall","enabled":true,"code":"// Place any code here you'd like to autorun when the package is uninstalled"},{"type":"function","name":"onLoad","enabled":true,"code":"alimb = {};\n\nif (!nexusclient.ui().layout().tab_location('LimbTracker')) {\n  nexusclient.ui().layout().register_custom_tab('LimbTracker');\n}"},{"type":"trigger","name":"","enabled":true,"actions":[{"type":"script","enabled":true,"script":"//Enter the script here\nconst target = args[1];\nconst amount = Number(args[2]) + (Number(args[3]) / 10);\nconst limb = args[4];\n\nif(typeof alimb[target] != \"undefined\") {\n  clearTimeout(alimb[target].timers[limb]);\n  alimb[target].limbs[limb] += amount;\n  send_command(\"updatetab\");\n  alimb[target].timers[limb] = setTimeout(function() {\n    alimb[target].limbs[limb] = 0;\n    display_notice(\"[ALIMB] \", \"yellow\", \"\", target + \"'s \" + limb + \" CLEARED\", \"orange\", \"\");\n    send_command(\"updatetab\");\n  }, 180000)\n} else {\n  let entry = {\n    limbs: {\n      head:0,\n      'left arm':0,\n      'right arm':0,\n      torso:0,\n      'left leg':0,\n      'right leg':0\n    },\n    timers: {\n      head:0,\n      'left arm':0,\n      'right arm':0,\n      torso:0,\n      'left leg':0,\n      'right leg':0\n    }\n  }\n  alimb[target] = entry;\n  alimb[target].limbs[limb] = amount;\n  send_command(\"updatetab\");\n  alimb[target].timers[limb] = setTimeout(function() {\n    alimb[target].limbs[limb] = 0;\n    display_notice(\"[ALIMB] \", \"yellow\", \"\", target + \"'s \" + limb + \" CLEARED\", \"orange\");\n    send_command(\"updatetab\");\n  }, 180000)\n}"}],"text":"^As you carve into (\\w+), you perceive that you have dealt (\\d+).(\\d+)% damage to (?:\\w+)? (.+).$","matching":"regexp","whole_words":true,"case_sensitive":true},{"type":"alias","name":"","enabled":true,"actions":[{"type":"script","enabled":true,"script":"//Enter the script here\nlet str = \"ALimb</br>\";\nstr += \"Target: \" + GMCP.Target.id + \"</br></br>\";\nstr += `Head: ${alimb[GMCP.Target.id].limbs['head']}%</br>`;\nstr += `Left Arm: ${alimb[GMCP.Target.id].limbs['left arm']}%</br>`;\nstr += `Right Arm: ${alimb[GMCP.Target.id].limbs['right arm']}%</br>`;\nstr += `Torso: ${alimb[GMCP.Target.id].limbs['torso']}%</br>`;\nstr += `Left Leg: ${alimb[GMCP.Target.id].limbs['left leg']}%</br>`;\nstr += `Right Leg: ${alimb[GMCP.Target.id].limbs['right leg']}%</br>`;\n\nset_custom_tab_html(\"LimbTracker\", str);"}],"text":"updatetab","matching":"begins","whole_words":true,"case_sensitive":true,"prefix_suffix":true},{"type":"trigger","name":"","enabled":true,"actions":[{"type":"script","enabled":true,"script":"//Enter the script here\n//Enter the script here\nconst target = args[3];\nconst amount = Number(args[1]) + (Number(args[2]) / 10);\nconst limb = args[4];\n\nif(typeof alimb[target] != \"undefined\") {\n  clearTimeout(alimb[target].timers[limb]);\n  alimb[target].limbs[limb] += amount;\n  send_command(\"updatetab\");\n  alimb[target].timers[limb] = setTimeout(function() {\n    alimb[target].limbs[limb] = 0;\n    display_notice(\"[ALIMB] \", \"yellow\", \"\", target + \"'s \" + limb + \" CLEARED\", \"orange\", \"\");\n    send_command(\"updatetab\");\n  }, 180000)\n} else {\n  let entry = {\n    limbs: {\n      head:0,\n      'left arm':0,\n      'right arm':0,\n      torso:0,\n      'left leg':0,\n      'right leg':0\n    },\n    timers: {\n      head:0,\n      'left arm':0,\n      'right arm':0,\n      torso:0,\n      'left leg':0,\n      'right leg':0\n    }\n  }\n  alimb[target] = entry;\n  alimb[target].limbs[limb] = amount;\n  send_command(\"updatetab\");\n  alimb[target].timers[limb] = setTimeout(function() {\n    alimb[target].limbs[limb] = 0;\n    display_notice(\"[ALIMB] \", \"yellow\", \"\", target + \"'s \" + limb + \" CLEARED\", \"orange\");\n    send_command(\"updatetab\");\n  }, 180000)\n}"}],"text":"As your blow lands with a crunch, you perceive that you have dealt (\\d+).(\\d+)% damage to (\\w+)'s (.+).","matching":"regexp","whole_words":true,"case_sensitive":true}],"description":"Argwin's Nexus3 Limb Tracker"}